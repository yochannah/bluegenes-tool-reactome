var bluegenesToolReactome=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function o(e,t){return{from:"Pathway",select:["identifier"],orderBy:[{path:"identifier",direction:"ASC"}],where:[{path:t,op:"=",value:e},{path:"dataSets.name",op:"==",value:"Reactome pathways data set"}]}}function n(e,t,r,n,i){var a,c={attemptsLeft:5,timer:1e3},s={unknownPathway:"Non-reactome pathway. Removing reactome pathway viewer",mysteryError:"Something went wrong. Contact info@intermine.org to report this",fireworks:{success:"Reactome Fireworks loaded successfully",initialising:"Initialising Fireworks Reactome script",tryingToLoad:"Trying to load Reactome Fireworks. Attempts left: "},debugStyle:"border-bottom:chartreuse solid 3px;"},l=i.columnMapping[r.class][r.format],u=new imjs.Service(t);if("Pathway"==r.class){var d=o(r.value,r.format);u.records(d).then(function(t){t.length>0?(a=t[0].identifier,f()):m(s.unknownPathway,!0,e)})}else"Gene"==r.class?u.findById(r.class,r.value).then(function(e){a=e[l],f()}):m(s.mysteryError,!1,e);function f(){void 0!==_toolAPIGlobals.fireworksReady?(!function(e){var t=Reactome.Fireworks.create({proxyPrefix:"https://reactome.org",placeHolder:e.id,width:e.clientWidth,height:500}),r=e.appendChild(function(){var e=document.createElement("div");return e.setAttribute("id","bluegenesToolReactomeStatusBar"),e}());t.onFireworksLoaded(function(e){console.log("%c"+s.fireworks.success,s.debugStyle),t.flagItems(a)}),t.onNodeSelected(function(e){if(e){var t=e.stId;o(t,"identifier");r.innerHTML="<div>Selected pathway: "+t+"</div>"}})}(e),console.log("%c"+s.fireworks.initialising,s.debugStyle)):c.attemptsLeft>0&&(console.log("%c"+s.fireworks.tryingToLoad+c.attemptsLeft,s.debugStyle),window.setTimeout(f,c.timer),c.attemptsLeft--,c.timer=2*c.timer)}function m(e,t,r){console.log(e),t?r.parentNode.removeChild(r):r.innerHTML=e}}r.r(t),r.d(t,"main",function(){return n})}]);